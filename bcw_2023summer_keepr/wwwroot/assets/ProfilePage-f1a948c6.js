import{_ as x,u as I,c as l,j as S,k as V,w as B,s as _,M as P,P as m,l as p,n as C,o,b as r,d as e,x as n,F as v,q as h,g as y,A as i,a as f,y as A,z as K,B as M,C as k,p as D,h as L}from"./index-a1a24051.js";const N={setup(){const c=I(),g=l(()=>i.account);async function d(){try{await f.getAccountById(c.params.userId),await _.getKeepsByUid(c.params.userId),await A.getVaultsByUid(c.params.userId)}catch(s){m.error(s.message),p.error(s)}}function t(){try{f.clearAccount(),_.clearAllKeeps(),A.clearAllVaults()}catch(s){m.error(s.message),p.error(s)}}return S(()=>d()),V(()=>t()),B(()=>{var s;((s=c.params.userId)==null?void 0:s.length)===24&&(t(),d())}),{account:g,activeAccount:l(()=>i.activeAccount),keeps:l(()=>i.keeps),vaults:l(()=>i.vaults),async getActiveKeep(s){try{await _.getActiveKeep(s),P.getOrCreateInstance("#keepDetailsModal").show()}catch(u){m.error(u.message),p.error(u)}}}}},b=c=>(D("data-v-6dcc20ed"),c=c(),L(),c),R={class:"container-fluid"},U={class:"row"},z={key:0,class:"col-md-8 col-12 mx-auto py-4"},E={class:"position-relative mx-3"},F=["src","alt"],j=["src","alt"],q={class:"text-center mt-5 pt-1 oxygen fw-bold fs-3"},O={class:"mb-0"},G={class:"fs-5 fw-normal"},H=b(()=>e("p",{class:"fw-bold oxygen fs-3"},"Vaults",-1)),J={class:"row"},Q={key:0,class:"mdi mdi-lock mb-auto ms-auto fs-3",title:"Private Vault"},T={class:"mb-0"},W={class:"mt-5"},X=b(()=>e("p",{class:"fw-bold oxygen fs-3"},"Keeps",-1)),Y={class:"row"},Z=["onClick"],$={class:"mb-0"};function ee(c,g,d,t,s,u){const w=C("RouterLink");return o(),r("div",R,[e("section",U,[t.activeAccount.id?(o(),r("div",z,[e("div",E,[e("img",{class:"cover-image",src:t.activeAccount.coverImg,alt:t.activeAccount.name},null,8,F),e("img",{class:"profile-picture elevation-4",src:t.activeAccount.picture,alt:t.activeAccount.name},null,8,j)]),e("div",q,[e("p",O,n(t.activeAccount.name),1),e("p",G,n(t.vaults.length)+" Vaults | "+n(t.keeps.length)+" Keeps",1)]),e("div",null,[H,e("section",J,[(o(!0),r(v,null,h(t.vaults,a=>(o(),r("div",{key:a.id,class:"col-md-3 col-6 px-0 my-2"},[K(w,{to:{name:"Vault",params:{vaultId:a.id}}},{default:M(()=>[e("div",{role:"button",class:"card-style elevation-5 mx-2",style:k({backgroundImage:`linear-gradient(0deg, rgba(0,0,0,0.65) 0%, rgba(0,0,0,0) 50%), url(${a.img})`})},[a.isPrivate?(o(),r("i",Q)):y("",!0),e("p",T,n(a.name),1)],4)]),_:2},1032,["to"])]))),128))])]),e("div",W,[X,e("section",Y,[(o(!0),r(v,null,h(t.keeps,a=>(o(),r("div",{key:a.id,class:"col-md-3 col-6 px-0 my-2"},[e("div",{role:"button",onClick:te=>t.getActiveKeep(a.id),class:"card-style mx-2",style:k({backgroundImage:`linear-gradient(0deg, rgba(0,0,0,0.65) 0%, rgba(0,0,0,0) 50%), url(${a.img})`})},[e("p",$,n(a.name),1)],12,Z)]))),128))])])])):y("",!0)])])}const ae=x(N,[["render",ee],["__scopeId","data-v-6dcc20ed"]]);export{ae as default};
